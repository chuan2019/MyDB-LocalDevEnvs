services:
  scylla:
    image: scylladb/scylla:5.4
    container_name: scylla-single
    hostname: scylla-single
    ports:
      - "9042:9042"   # CQL
      - "7000:7000"   # intra-node communication
      - "7001:7001"   # TLS intra-node
      - "7199:7199"   # JMX
      - "10000:10000" # Alternator (DynamoDB API)
    volumes:
      - scylla_data:/var/lib/scylla
    command: ["--smp", "2", "--memory", "2G"]
    restart: unless-stopped
    networks:
      - scylla_net

networks:
  scylla_net:
    driver: bridge

volumes:
  scylla_data:
    driver: local
