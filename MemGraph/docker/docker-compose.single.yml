services:
  memgraph:
    image: memgraph/memgraph-platform:latest
    container_name: memgraph-single
    ports:
      - "7687:7687"  # Bolt protocol
      - "3000:3000"  # MemGraph Lab (web UI)
      - "7444:7444"  # Monitoring
    environment:
      - MEMGRAPH="--log-level=TRACE"
    volumes:
      - memgraph_data:/var/lib/memgraph
      - memgraph_log:/var/log/memgraph
      - memgraph_etc:/etc/memgraph
    restart: unless-stopped
    networks:
      - memgraph_net

networks:
  memgraph_net:
    driver: bridge

volumes:
  memgraph_data:
    driver: local
  memgraph_log:
    driver: local
  memgraph_etc:
    driver: local
